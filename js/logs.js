'use strict'

import { Utils } from './utils.js';

const $chat = document.querySelector('.chat');

const LOGS = {
  start: [
    '‚öîÔ∏è –ß–∞—Å—ã –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏ [time], –∫–æ–≥–¥–∞ [player1] –∏ [player2] –±—Ä–æ—Å–∏–ª–∏ –≤—ã–∑–æ–≤ –¥—Ä—É–≥ –¥—Ä—É–≥—É ‚öîÔ∏è',
  ],
  end: [
    '–†–µ–∑—É–ª—å—Ç–∞—Ç —É–¥–∞—Ä–∞ [playerWins]ü•á: [playerLose] - —Ç—Ä—É–øü™¶.',
    '[playerLose] –ø–æ–≥–∏–±‚ö∞Ô∏è –æ—Ç —É–¥–∞—Ä–∞ –±–æ–π—Ü–∞ [playerWins]üéâ.',
    '–†–µ–∑—É–ª—å—Ç–∞—Ç –±–æ—è: [playerLose] - –∂–µ—Ä—Ç–≤–∞üíÄ, [playerWins] - —É–±–∏–π—Ü–∞üòà.',
    '–í–æ–∑–º–æ–∂–Ω–æ [playerWins]üòà –æ–¥–Ω–∞–∂–¥—ã –Ω–∞—É—á–∏—Ç—Å—è –≤–æ—Å–∫—Ä–µ—à–∞—Ç—å –º–µ—Ä—Ç–≤–µ—Ü–æ–≤, –Ω–æ –ø–æ–∫–∞ [playerLose] –º—ë—Ä—Ç–≤üòµ.',
    '[playerLose] –ø–æ–≤–µ—Ä–∂–µ–Ωü™¶. –ë–æ–π –æ–∫–æ–Ω—á–µ–Ω. –ü–æ–±–µ–¥–∞ –∑–∞ [playerWins]üèÜ'
  ],
  hit: [
    '[playerDefence] –ø—ã—Ç–∞–ª—Å—è —Å–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è, –Ω–æ [playerKick] —Ä–∞–∑–±–µ–∂–∞–≤—à–∏—Å—å —Ä–∞–∑–¥—Ä–æ–±–∏–ª –∫–æ–ø—á–∏–∫–æ–º –ª–µ–≤–æ–µ —É—Ö–æ –≤—Ä–∞–≥–∞.',
    '[playerDefence] —Ä–∞—Å—Å—Ç—Ä–æ–∏–ª—Å—è, –∫–∞–∫ –≤–¥—Ä—É–≥, –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ [playerKick] —Å–ª—É—á–∞–π–Ω–æ —Ä–∞–∑–¥—Ä–æ–±–∏–ª –≥—Ä—É–¥—å—é –≥—Ä—É–¥–∏–Ω—É –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞.',
    '[playerDefence] –∑–∞–∂–º—É—Ä–∏–ª—Å—è, –∞ –≤ —ç—Ç–æ –≤—Ä–µ–º—è [playerKick], –ø—Ä–æ—Å–ª–µ–∑–∏–≤—à–∏—Å—å, —Ä–∞–∑–¥—Ä–æ–±–∏–ª –∫—É–ª–∞–∫–æ–º –ø–∞—Ö –æ–ø–ø–æ–Ω–µ–Ω—Ç–∞.',
    '[playerDefence] —á–µ—Å–∞–ª <–≤—ã—Ä–µ–∑–∞–Ω–æ —Ü–µ–Ω–∑—É—Ä–æ–π>, –∏ –≤–Ω–µ–∑–∞–ø–Ω–æ –Ω–µ—É—Å—Ç—Ä–∞—à–∏–º—ã–π [playerKick] –æ—Ç—á–∞—è–Ω–Ω–æ —Ä–∞–∑–º–æ–∑–∂–∏–ª –≥—Ä—É–¥—å—é –ª–µ–≤—ã–π –±–∏—Ü–µ–ø—Å –æ–ø–ø–æ–Ω–µ–Ω—Ç–∞.',
    '[playerDefence] –∑–∞–¥—É–º–∞–ª—Å—è, –Ω–æ –≤–Ω–µ–∑–∞–ø–Ω–æ [playerKick] —Å–ª—É—á–∞–π–Ω–æ –≤–ª–µ–ø–∏–ª –≥—Ä—É–±—ã–π —É–¥–∞—Ä –∫–æ–ø—á–∏–∫–æ–º –≤ –ø–æ—è—Å –æ–ø–ø–æ–Ω–µ–Ω—Ç–∞.',
    '[playerDefence] –∫–æ–≤—ã—Ä—è–ª—Å—è –≤ –∑—É–±–∞—Ö, –Ω–æ [playerKick], –ø—Ä–æ—Å–Ω—É–≤—à–∏—Å—å, –≤–ª–µ–ø–∏–ª —Ç—è–∂–µ–ª—ã–π —É–¥–∞—Ä –ø–∞–ª—å—Ü–µ–º –≤ –∫–∞–¥—ã–∫ –≤—Ä–∞–≥–∞.',
    '[playerDefence] –≤—Å–ø–æ–º–Ω–∏–ª —á—Ç–æ-—Ç–æ –≤–∞–∂–Ω–æ–µ, –Ω–æ –≤–Ω–µ–∑–∞–ø–Ω–æ [playerKick], –∑–µ–≤–Ω—É–≤, —Ä–∞–∑–º–æ–∑–∂–∏–ª –æ—Ç–∫—Ä—ã—Ç–æ–π –ª–∞–¥–æ–Ω—å—é —á–µ–ª—é—Å—Ç—å –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞.',
    '[playerDefence] –æ—Å–º–æ—Ç—Ä–µ–ª—Å—è, –∏ –≤ —ç—Ç–æ –≤—Ä–µ–º—è [playerKick] –º–∏–º–æ—Ö–æ–¥–æ–º —Ä–∞–∑–¥—Ä–æ–±–∏–ª —Å—Ç–æ–ø–æ–π –∞–ø–ø–µ–Ω–¥–∏–∫—Å —Å–æ–ø–µ—Ä–Ω–∏–∫–∞.',
    '[playerDefence] –∫–∞—à–ª—è–Ω—É–ª, –Ω–æ –≤–Ω–µ–∑–∞–ø–Ω–æ [playerKick], –ø–æ–∫–∞–∑–∞–≤ –ø–∞–ª–µ—Ü, —Ä–∞–∑–º–æ–∑–∂–∏–ª –ø–∞–ª—å—Ü–µ–º –≥—Ä—É–¥—å —Å–æ–ø–µ—Ä–Ω–∏–∫–∞.',
    '[playerDefence] –ø—ã—Ç–∞–ª—Å—è —á—Ç–æ-—Ç–æ —Å–∫–∞–∑–∞—Ç—å, –∞ –∂–µ—Å—Ç–æ–∫–∏–π [playerKick], –ø—Ä–æ—Å–Ω—É–≤—à–∏—Å—å, —Ä–∞–∑–º–æ–∑–∂–∏–ª –∫–æ–ø—á–∏–∫–æ–º –ª–µ–≤—É—é –Ω–æ–≥—É –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞.',
    '[playerDefence] –∑–∞–±—ã–ª—Å—è, –∫–∞–∫ –≤–Ω–µ–∑–∞–ø–Ω–æ –±–µ–∑—É–º–Ω—ã–π [playerKick] —Å–æ —Å–∫—É–∫–∏ –≤–ª–µ–ø–∏–ª —É–¥–∞—Ä –∫–æ–ª–µ–Ω–æ–º –≤ –ª–µ–≤—ã–π –±–æ–∫ —Å–æ–ø–µ—Ä–Ω–∏–∫–∞.',
    '[playerDefence] –ø–æ–ø–µ—Ä—Ö–Ω—É–ª—Å—è, –∞ –∑–∞ —ç—Ç–æ [playerKick] –º–∏–º–æ—Ö–æ–¥–æ–º —Ä–∞–∑–¥—Ä–æ–±–∏–ª –∫–æ–ª–µ–Ω–æ–º –≤–∏—Å–æ–∫ –≤—Ä–∞–≥–∞.',
    '[playerDefence] —Ä–∞—Å—Å—Ç—Ä–æ–∏–ª—Å—è, –∞ –≤ —ç—Ç–æ –≤—Ä–µ–º—è –Ω–∞–≥–ª—ã–π [playerKick], –ø–æ—à–∞—Ç–Ω—É–≤—à–∏—Å—å, —Ä–∞–∑–º–æ–∑–∂–∏–ª –∫–æ–ø—á–∏–∫–æ–º –≥—É–±—ã –æ–ø–ø–æ–Ω–µ–Ω—Ç–∞.',
    '[playerDefence] –æ—Å–º–æ—Ç—Ä–µ–ª—Å—è, –Ω–æ –≤–Ω–µ–∑–∞–ø–Ω–æ [playerKick] —Ä–æ–±–∫–æ —Ä–∞–∑–º–æ–∑–∂–∏–ª –∫–æ–ª–µ–Ω–æ–º –ª–µ–≤—ã–π –≥–ª–∞–∑ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞.',
    '[playerDefence] –æ—Å–º–æ—Ç—Ä–µ–ª—Å—è, –∞ [playerKick] –≤–ª–æ–º–∏–ª –¥—Ä–æ–±—è—â–∏–π —É–¥–∞—Ä –ø–ª–µ—á–æ–º, –ø—Ä–æ–±–∏–≤ –±–ª–æ–∫, –∫—É–¥–∞ –æ–±—ã—á–Ω–æ –Ω–µ –±—å—é—Ç –æ–ø–ø–æ–Ω–µ–Ω—Ç–∞.',
    '[playerDefence] –∫–æ–≤—ã—Ä—è–ª—Å—è –≤ –∑—É–±–∞—Ö, –∫–∞–∫ –≤–¥—Ä—É–≥, –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ [playerKick] –æ—Ç—á–∞—è–Ω–Ω–æ —Ä–∞–∑–º–æ–∑–∂–∏–ª –ø–ª–µ—á–æ–º –º—ã—à—Ü—ã –ø—Ä–µ—Å—Å–∞ –æ–ø–ø–æ–Ω–µ–Ω—Ç–∞.',
    '[playerDefence] –ø—Ä–∏—à–µ–ª –≤ —Å–µ–±—è, –∏ –≤ —ç—Ç–æ –≤—Ä–µ–º—è [playerKick] –ø—Ä–æ–≤–µ–ª —Ä–∞–∑–±–∏–≤–∞—é—â–∏–π —É–¥–∞—Ä –∫–∏—Å—Ç—å—é —Ä—É–∫–∏, –ø—Ä–æ–±–∏–≤ –±–ª–æ–∫, –≤ –≥–æ–ª–µ–Ω—å –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞.',
    '[playerDefence] –ø–æ—à–∞—Ç–Ω—É–ª—Å—è, –∞ –≤ —ç—Ç–æ –≤—Ä–µ–º—è [playerKick], —Ö–∏—Ö–∏–∫–∞—è, –≤–ª–µ–ø–∏–ª –≥—Ä—É–±—ã–π —É–¥–∞—Ä –æ—Ç–∫—Ä—ã—Ç–æ–π –ª–∞–¥–æ–Ω—å—é –ø–æ –±–µ–¥—Ä–∞–º –≤—Ä–∞–≥–∞.',
    '[playerDefence] –º–æ–ª–∏–ª –æ –ø–æ—â–∞–¥–µ, –Ω–æ [playerKick], —Ä–∞–¥–æ—Å—Ç–Ω–æ –ø—Ä–∏—Å–≤–∏—Å—Ç—ã–≤–∞—è, –ø—Ä–æ–≤–µ–ª –±–æ–ª–µ–≤–æ–π –ø—Ä–∏–µ–º –Ω–∞ –Ω–æ–≥—Ç–µ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞',
  ],
  defence: [
    '[playerKick] –ø–æ—Ç–µ—Ä—è–ª –º–æ–º–µ–Ω—Ç, –∏ —Ö—Ä–∞–±—Ä—ã–π [playerDefence] –æ—Ç–ø—Ä—ã–≥–Ω—É–ª –æ—Ç —É–¥–∞—Ä–∞ –æ—Ç–∫—Ä—ã—Ç–æ–π –ª–∞–¥–æ–Ω—å—é –≤ –∫–ª—é—á–∏—Ü—É.',
    '[playerKick] –Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞–ª —Å–∏—Ç—É–∞—Ü–∏—é, –∏ –ø–æ—Ç–æ–º—É [playerDefence] –ø–æ—Å—Ç–∞–≤–∏–ª –±–ª–æ–∫ –Ω–∞ —É–¥–∞—Ä –ø—è—Ç–∫–æ–π –≤ –ø—Ä–∞–≤—É—é –≥—Ä—É–¥—å.',
    '[playerKick] –ø–æ—Ç–µ—Ä—è–ª –º–æ–º–µ–Ω—Ç, –∏ [playerDefence] –ø–æ—Å—Ç–∞–≤–∏–ª –±–ª–æ–∫ –Ω–∞ —É–¥–∞—Ä –∫–æ–ª–µ–Ω–æ–º –ø–æ —Å–µ–ª–µ–∑–µ–Ω–∫–µ.',
    '[playerKick] –ø–æ—Å–∫–æ–ª—å–∑–Ω—É–ª—Å—è, –∏ –∑–∞–¥—É–º—á–∏–≤—ã–π [playerDefence] –ø–æ—Å—Ç–∞–≤–∏–ª –±–ª–æ–∫ –Ω–∞ —Ç—ã—á–æ–∫ –≥–æ–ª–æ–≤–æ–π –≤ –±—Ä–æ–≤—å.',
    '[playerKick] —Å—Ç–∞—Ä–∞–ª—Å—è –ø—Ä–æ–≤–µ—Å—Ç–∏ —É–¥–∞—Ä, –Ω–æ –Ω–µ–ø–æ–±–µ–¥–∏–º—ã–π [playerDefence] —É—à–µ–ª –≤ —Å—Ç–æ—Ä–æ–Ω—É –æ—Ç —É–¥–∞—Ä–∞ –∫–æ–ø—á–∏–∫–æ–º –ø—Ä—è–º–æ –≤ –ø—è—Ç–∫—É.',
    '[playerKick] –æ–±–º–∞–Ω—É–ª—Å—è, –∏ –∂–µ—Å—Ç–æ–∫–∏–π [playerDefence] –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª —É–¥–∞—Ä —Å—Ç–æ–ø–æ–π –≤ —Å–æ–ª–Ω–µ—á–Ω–æ–µ —Å–ø–ª–µ—Ç–µ–Ω–∏–µ.',
    '[playerKick] –Ω–µ –¥—É–º–∞–ª –æ –±–æ–µ, –ø–æ—Ç–æ–º—É —Ä–∞—Å—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π [playerDefence] –æ—Ç–ø—Ä—ã–≥–Ω—É–ª –æ—Ç —É–¥–∞—Ä–∞ –∫—É–ª–∞–∫–æ–º –∫—É–¥–∞ –æ–±—ã—á–Ω–æ –Ω–µ –±—å—é—Ç.',
    '[playerKick] –æ—Å—Ç—É–ø–∏–ª—Å—è, –∏ [playerDefence] —É—à–µ–ª –≤–ª–µ–≤–æ –æ—Ç —É–¥–∞—Ä–∞ –Ω–æ–≥–æ–π –≤ –±–æ–∫.'
  ],
  draw: [
    '–ù–∏—á—å—è - —ç—Ç–æ —Ç–æ–∂–µ –ø–æ–±–µ–¥–∞! üôåüèª',
    '–ë–æ–π—Ü—ã –≤—ã–Ω—É–∂–¥–µ–Ω—ã –¥–æ–≤–æ–ª—å—Å—Ç–≤–æ–≤–∞—Ç—å—Å—è –Ω–∏—á—å—ë–π. ü•≤',
    '–ù–∏—á—å—è - —Ç–æ–∂–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç! ‚öñÔ∏è',
  ],
};

export class Logs {

  /**
   * –ú–µ—Ç–æ–¥ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –ª–æ–≥–∞ –±–æ—è
   * –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏–≥—Ä–æ–≤–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ä–∞–Ω–¥–æ–º–Ω—ã–µ —Ñ—Ä–∞–∑—ã,
   * –∑–∞—Ç–µ–º –≤—ã–≤–æ–¥—è—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω –≤ "—á–∞—Ç" –≤–º–µ—Å—Ç–µ —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º —Å–æ–±—ã—Ç–∏—è
   * @param {string} type - —Ç–∏–ø —Å–∏—Ç—É–∞—Ü–∏–∏/—Å–æ–±—ã—Ç–∏–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –Ω–∞–¥–æ –æ–ø–∏—Å–∞—Ç—å –ª–æ–≥–æ–º (hit/defence/end/draw/start)
   * @param {object} pl1 - –æ–±—ä–µ–∫—Ç –∏–≥—Ä–æ–∫–∞ 1
   * @param {object} pl2 - –æ–±—ä–µ–∫—Ç –∏–≥—Ä–æ–∫–∞ 2
   * @param {number} damage - –Ω–∞–Ω–æ—Å–∏–º—ã–π –ø—Ä–∏ —É–¥–∞–∞—Ä–µ —É—Ä–æ–Ω
   */
  static generateLogs(type, pl1, pl2, damage) {
    // pl1 - –Ω–∞–Ω–æ—Å–∏—Ç —É–¥–∞—Ä, pl2 - –∑–∞—â–∏—â–∞–µ—Ç—Å—è
    // –∏–ª–∏ pl1 - wins, pl2 - lose
    const { name: name1 } = pl1;
    const { name: name2, hp: hp2 } = pl2;

    let text;
    const currentTime = Utils.getTime();
    const randomPhrase = LOGS[type][
      Utils.getRandom(LOGS[type].length) - 1
    ];

    switch (type) {
      case 'hit':
        text = `${currentTime} - ${randomPhrase
          .replace('[playerKick]', name1)
          .replace('[playerDefence]', name2)
          } -${damage} [${hp2}/100]`;
        break;

      case 'defence':
        text = `${currentTime} - ${randomPhrase
          .replace('[playerKick]', name1)
          .replace('[playerDefence]', name2)
          }`;
        break;

      case 'end':
        text = `${currentTime} - ${randomPhrase
          .replace('[playerWins]', name1)
          .replace('[playerLose]', name2)
          }`;
        break;

      case 'draw':
        text = `${currentTime} - ${randomPhrase}`;
        break;

      case 'start':
        text = `${randomPhrase
          .replace('[time]', currentTime)
          .replace('[player1]', name1)
          .replace('[player2]', name2)
          }`;
        break;

      default:
        console.log('—á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫');
        break;
    }

    const el = `<p>${text}</p>`;
    $chat.insertAdjacentHTML('afterbegin', el);
  }
}